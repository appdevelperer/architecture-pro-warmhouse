@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Context.puml

title Диаграмма контекста (C4): Целевая экосистема "Тёплый дом" (To-Be)

Person(user, "Пользователь", "Самостоятельно подключает устройства, настраивает сценарии, управляет домом через веб/мобильное приложение")

System(smartHomePlatform, "Экосистема умного дома (SaaS)", "Платформа самообслуживания для управления любыми устройствами: отопление, свет, ворота, камеры. Поддержка будущих сценариев.")

System_Ext(partnerDevices, "Устройства партнёров", "Любые совместимые устройства (отопление, свет, ворота, камеры и др.), подключаемые пользователем самостоятельно.")

System_Ext(mobileApp, "Мобильное приложение", "iOS/Android приложение для управления домом")
System_Ext(webPortal, "Веб-портал самообслуживания", "Регистрация, покупка комплектов, настройка сценариев, просмотр телеметрии")

Rel(user, webPortal, "Регистрируется, покупает комплекты, настраивает сценарии", "HTTPS")
Rel(user, mobileApp, "Управляет устройствами в реальном времени", "HTTPS")

Rel(webPortal, smartHomePlatform, "Передаёт настройки и сценарии пользователя", "API")
Rel(mobileApp, smartHomePlatform, "Отправляет команды, получает статус устройств", "API")

Rel(smartHomePlatform, partnerDevices, "Обменивается данными и командами с устройствами", "Интернет-протоколы")

note right of smartHomePlatform
  Поддерживает:
  - Управление отоплением, светом, воротами, камерами
  - Подключение любых совместимых устройств партнёров
  - Настройку пользовательских сценариев
  - Расширение для будущих типов устройств и поведений
end note

LAYOUT_WITH_LEGEND()

@enduml